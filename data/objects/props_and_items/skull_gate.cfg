{
id: "skull_gate",
solid_dimensions: ["player","common"],
always_active: true,

editor_info: {
	category: "props",
},

properties: {
	enemies: {type: "int", default: 0,
		editor_info: {type: "int", value: "0", min_value: 0, max_value: 100}},
	enemies_to_destroy_gate: {type: "int", default: 0,
		editor_info: {type: "int", value: 0, min_value: 0, max_value: 100}},
	enemies_despawn: {type: "bool", default: false,
		editor_info: {type: "boolean", value: false}},
},

on_create: "if(level.player.get_stored_event(level.id) = 1,
	remove_object(self),
	set(level.player.enemy_count, enemies) )",
on_editor_changed_variable: "set(level.player.enemy_count, enemies)",

on_process: "if(level.player.enemy_count = 0,
	[if(enemies_despawn, level.player.store_event(level.id, 1)),
	 schedule(50,die()) ] )",

animation: {
	id: "normal",
	image: "props.png",
	solid_area: [0,0,15,15],
	rect: [104,2,119,17],
	frames: 1,
	duration: 1,
},
}
