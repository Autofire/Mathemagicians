{
id: "skull_gate",
//solid_dimensions: ["player","common"],
//collide_dimensions: ["skull"],
always_active: true,
has_feet: false,

editor_info: {
	category: "props",
},

properties: {
	team: "'evil'",

	enemies: {type: "int", default: 1,
		editor_info: {type: "int", value: "1", min_value: 1, max_value: 100}},
	enemies_left_upon_dieing: {type: "int", default: 0,
		editor_info: {type: "int", value: "0", min_value: 0, max_value: 100}},
	enemies_despawn: {type: "bool", default: false,
		editor_info: {type: "boolean", value: false}},
},

on_start_level: "if(level.player.get_stored_event(level.id) = 1,
	remove_object(self),
	[set(level.player.enemy_count, enemies),
	set_solid(midpoint_x-16, midpoint_y-16, midpoint_x+16, midpoint_y+16,true),
	] )",
on_editor_changed_variable: "set(level.player.enemy_count, enemies)",

on_process: "[if(level.player.enemy_count <= enemies_left_upon_dieing,
		[if(enemies_despawn, level.player.store_event(level.id, 1)),
		 set_solid(midpoint_x-16, midpoint_y-16, midpoint_x+16, midpoint_y+16,false),
		 schedule(50,die()) ] ),
	 set(velocity_x, 0),
	 set(velocity_y, 0),
	 set(accel_x, 0),
	 set(accel_y, 0)]",

animation: {
	id: "normal",
	image: "props.png",
	rect: [104,2,119,17],
	frames: 1,
	duration: 1,
},
}
